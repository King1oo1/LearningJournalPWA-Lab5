<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Journal - Chandandeep Singh</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Navigation will be inserted here by JavaScript -->
    
    <main class="container">
        <h1>Learning Journal - Lab 5: Python & JSON Backend</h1>
        
        <!-- Python Backend Information Section -->
        <section class="python-backend-section">
            <h3>üêç Python JSON Backend</h3>
            <p>This Learning Journal now uses Python and JSON for data storage. All new entries are created using the Python script and displayed here via JavaScript.</p>
            
            <div class="backend-steps">
                <div class="backend-step">
                    <strong>Step 1:</strong> Run <code>python backend/save_entry.py</code> in terminal
                </div>
                <div class="backend-step">
                    <strong>Step 2:</strong> Add your reflection through the Python interface
                </div>
                <div class="backend-step">
                    <strong>Step 3:</strong> Click "Refresh JSON Data" below to see your new entry
                </div>
                <div class="backend-step">
                    <strong>Data Storage:</strong> All entries are stored in <code>backend/reflections.json</code>
                </div>
            </div>
            
            <div class="backend-actions" style="display: flex; gap: 1rem; margin-top: 1.5rem; flex-wrap: wrap;">
                <button onclick="refreshJSONData()" class="btn-primary">
                    üîÑ Refresh JSON Data
                </button>
                <button onclick="showBackendInfo()" class="btn-primary">
                    ‚ÑπÔ∏è How It Works
                </button>
                <button onclick="exportJSONData()" class="btn-primary">
                    üì• Export JSON
                </button>
            </div>
            
            <div id="backend-info" style="margin-top: 1rem; padding: 1rem; background: rgba(255,255,255,0.1); border-radius: 8px; display: none;"></div>
        </section>

        <!-- Reflection Counter (Added by JavaScript) -->
        <div id="reflection-counter-container"></div>

        <!-- Local Journal Entry Form (Lab 4 functionality) -->
        <section class="journal-form-section">
            <h2>Add New Journal Entry (Local Storage)</h2>
            <p class="form-description">Fill out the form below to add a new journal entry to local storage. You can edit or delete these entries later.</p>
            <form id="journal-form">
                <div class="form-group">
                    <label for="journal-title">Title:</label>
                    <input type="text" id="journal-title" name="title" placeholder="e.g., Week 5 Reflection" required>
                </div>
                <div class="form-group">
                    <label for="journal-entry">Entry Content:</label>
                    <textarea id="journal-entry" name="entry" rows="6" 
                              placeholder="Write your journal entry here (minimum 10 words)..." 
                              minlength="50" required></textarea>
                    <small>Minimum 50 characters required. Your entry will be saved in browser storage.</small>
                    <div id="word-count" class="word-count" style="margin-top: 0.5rem;"></div>
                </div>
                <button type="submit" class="btn-primary">Add Journal Entry</button>
            </form>
        </section>
        
        <!-- Journal Entries Container - NEWEST FIRST -->
        <div id="journal-entries-container">
            <!-- JSON entries from Python backend will be loaded here AT THE TOP -->
            
            <!-- Local storage entries will be loaded here -->
            
            <!-- Week 5: Python & JSON Backend Data (NEWEST STATIC ENTRY) -->
            <article class="journal-entry collapsible">
                <div class="collapsible-header">
                    <h2>Week 5: Python & JSON Backend Data</h2>
                    <div class="entry-actions">
                        <span class="toggle-icon">‚ñº</span>
                    </div>
                </div>
                <div class="collapsible-content">
                    <div class="entry-meta">November 2024</div>
                    
                    <h3>Lab 5 Journal Questions & Answers</h3>
                    
                    <h4>1. How is storing data in a JSON file different from using browser storage?</h4>
                    <p><strong>JSON File Storage:</strong></p>
                    <ul>
                        <li>Persists across different browsers and devices when committed to version control</li>
                        <li>Accessible to both server-side (Python) and client-side (JavaScript) applications</li>
                        <li>Human-readable and easily editable with any text editor</li>
                        <li>Can be version-controlled with Git for tracking changes</li>
                        <li>Stored as a physical file in the project structure</li>
                        <li>No storage limits beyond file system constraints</li>
                    </ul>
                    
                    <p><strong>Browser Storage (LocalStorage):</strong></p>
                    <ul>
                        <li>Limited to specific browser and device</li>
                        <li>Only accessible client-side via JavaScript</li>
                        <li>Data is tied to specific domain and browser</li>
                        <li>Typically limited to 5-10MB per domain</li>
                        <li>Not easily shareable or portable between devices</li>
                        <li>Automatically managed by the browser</li>
                    </ul>
                    
                    <p><strong>Key Difference:</strong> JSON files provide cross-platform persistence and version control, while browser storage offers convenience but lacks portability.</p>
                    
                    <h4>2. How did you use Python to create or update your JSON file?</h4>
                    <p>I implemented a Python script (<code>backend/save_entry.py</code>) that:</p>
                    
                    <p><strong>Creation:</strong></p>
                    <ul>
                        <li>Checks if <code>reflections.json</code> exists, creates it with empty array <code>[]</code> if not</li>
                        <li>Uses <code>json.load()</code> to read existing entries into a Python list</li>
                        <li>Appends new entries with structured data including name, date, and reflection text</li>
                        <li>Uses <code>json.dump()</code> with indentation to write back the updated list</li>
                    </ul>
                    
                    <p><strong>Update Process:</strong></p>
                    <ul>
                        <li>Collects user input via <code>input()</code> function in terminal</li>
                        <li>Generates automatic timestamp using <code>datetime.now()</code></li>
                        <li>Structures data as dictionary objects with consistent keys</li>
                        <li>Appends to existing array and writes entire file back</li>
                        <li>Includes error handling for file operations and JSON parsing</li>
                    </ul>
                    
                    <p><strong>Code Structure:</strong></p>
                    <pre><code># Load existing data
with open('reflections.json', 'r') as f:
    reflections = json.load(f)

# Append new entry
reflections.append(new_reflection)

# Save updated data
with open('reflections.json', 'w') as f:
    json.dump(reflections, f, indent=2)</code></pre>
                    
                    <h4>3. What does your PWA show locally, and what will users see on GitHub? Are they the same? Why or why not?</h4>
                    
                    <p><strong>Locally (Development Environment):</strong></p>
                    <ul>
                        <li>All JSON entries from <code>reflections.json</code> displayed dynamically</li>
                        <li>Real-time updates when Python script adds new entries</li>
                        <li>Interactive features like collapsible sections and copy buttons</li>
                        <li>Theme preferences stored in browser localStorage</li>
                        <li>YouTube API integration with custom controls</li>
                    </ul>
                    
                    <p><strong>On GitHub Pages (Production):</strong></p>
                    <ul>
                        <li>Static JSON entries committed to repository</li>
                        <li>No real-time updates unless repository is updated</li>
                        <li>Same interactive features but with static data</li>
                        <li>Theme preferences still work (client-side storage)</li>
                        <li>YouTube API may have restrictions due to CORS</li>
                    </ul>
                    
                    <p><strong>Are they the same?</strong> <em>Mostly, but not exactly.</em></p>
                    
                    <p><strong>Why they differ:</strong></p>
                    <ul>
                        <li>GitHub Pages serves static files only - no server-side processing</li>
                        <li>JSON file is frozen at the time of last commit</li>
                        <li>No ability to run Python scripts on GitHub Pages</li>
                        <li>Local development allows dynamic file updates</li>
                        <li>Version control captures snapshots, not real-time changes</li>
                    </ul>
                    
                    <p><strong>Solution:</strong> To keep them synchronized, I regularly commit updated JSON files to GitHub, ensuring the production version reflects the latest entries.</p>
                    
                    <h4>4. What extra feature did you add to your PWA using the JSON file, and why?</h4>
                    
                    <p><strong>Extra Feature: Real-time Reflection Statistics Dashboard</strong></p>
                    
                    <p><strong>What it does:</strong></p>
                    <ul>
                        <li>Dynamic counter showing total entries by type (JSON, Static, Local)</li>
                        <li>Visual breakdown of data sources</li>
                        <li>Auto-updates when JSON data is refreshed</li>
                        <li>Color-coded indicators for different entry types</li>
                    </ul>
                    
                    <p><strong>Why I added it:</strong></p>
                    <ul>
                        <li><strong>Demonstrate Data Integration:</strong> Shows seamless connection between Python backend and JavaScript frontend</li>
                        <li><strong>User Feedback:</strong> Provides immediate visual confirmation when new entries are added</li>
                        <li><strong>Educational Value:</strong> Helps understand the data flow and storage mechanisms</li>
                        <li><strong>Professional Polish:</strong> Adds a dashboard-like element that enhances user experience</li>
                        <li><strong>Debugging Aid:</strong> Makes it easy to verify that JSON entries are loading correctly</li>
                    </ul>
                    
                    <p><strong>Technical Implementation:</strong></p>
                    <ul>
                        <li>Uses <code>fetch()</code> API to get JSON data asynchronously</li>
                        <li>DOM manipulation to create and update counter elements</li>
                        <li>CSS Grid for responsive layout of statistics</li>
                        <li>Event listeners for manual refresh functionality</li>
                        <li>Error handling for missing JSON files</li>
                    </ul>
                    
                    <p>This feature transforms the PWA from a simple journal into a data-driven application that clearly demonstrates the Python-JavaScript integration required for Lab 5.</p>
                </div>
            </article>

            <!-- Week 4: Introduction to APIs -->
            <article class="journal-entry collapsible">
                <div class="collapsible-header">
                    <h2>Week 4: Introduction to APIs</h2>
                    <div class="entry-actions">
                        <span class="toggle-icon">‚ñº</span>
                    </div>
                </div>
                <div class="collapsible-content">
                    <div class="entry-meta">October 2025</div>   
                    <h3>Which Storage, Browser, and Third-Party APIs did you choose, and why?</h3>
                    <p><strong>Storage API:</strong> Enhanced local storage for journal entries and theme choices, including Session Storage as a backup option. It was chosen for its simplicity and widespread browser support.</p>
                    <p><strong>Browser API:</strong> Clipboard API for copying journal entries and improved Validation API for form validation. These considerably improve the overall user experience.</p>
                    <p><strong>Third-Party API:</strong> The YouTube Player API allows you to connect with educational videos. We choose video content since it improves the learning experience.</p>
                    
                    <h3>How did you integrate each API with DOM manipulation?</h3>
                    <p><strong>Storage API:</strong> localStorage.setItem() saves data and then dynamically builds DOM elements on load.</p>
                    <p><strong>Clipboard API:</strong> Added copy buttons to journal entries that use navigator.clipboard.writeText() and provide visual feedback.</p>
                    <p><strong>YouTube API:</strong> YT.Player() generates embedded video, custom buttons manage player using API functions.</p>
                    
                    <h3>What challenges did you encounter, and how did you solve them?</h3>
                    <p><strong>Clipboard API permissions:</strong> Some browsers require a secure context (HTTPS). Error handling and backup messages were included.</p>
                    <p><strong>YouTube API loading:</strong> The API script needed to load before being initialised. I used the onYouTubeIframeAPIReady callback.</p>
                    <p><strong>Overlapping buttons:</strong> Stop button moved off-screen; corrected with CSS Grid and responsive layouts.</p>
                    
                    <h3>In what ways do these APIs improve your Learning Journal PWA?</h3>
                    <p><strong>Persistence:</strong> When the browser is closed, users' entries and preferences are saved.</p>
                    <p><strong>Usability:</strong> One-click copying and quick form response.</p>
                    <p><strong>Rich Content:</strong> Video integration improves learning.</p>
                    <p><strong>Professional appearance:</strong> Native app experience with smooth interactions.</p>
                </div>
            </article>

            <!-- Week 3: JavaScript & DOM Manipulation -->
            <article class="journal-entry collapsible">
                <div class="collapsible-header">
                    <h2>Week 3: JavaScript & DOM Manipulation</h2>
                    <div class="entry-actions">
                        <span class="toggle-icon">‚ñº</span>
                    </div>
                </div>
                <div class="collapsible-content">
                    <div class="entry-meta">October 2025</div>   
                    <h3>Which DOM selection methods did you use, and why did you choose them?</h3>
                    <p>I used getElementById() for single items such as the live date and theme toggle because it is quick and precise. Due to its flexibility and ability to take CSS selectors, I also utilised querySelectorAll() for many items, such as collapsable sections.</p>
                    
                    <h3>What was the most challenging part about linking JavaScript with your HTML?</h3>
                    <p>The most difficult aspect was ensuring that the JavaScript loaded at the appropriate time and that all DOM elements were available when the scripts attempted to access them. This timing issue was resolved by using the DOMContentLoaded event.</p>
                    
                    <h3>How did you test and debug your JavaScript code?</h3>
                    <p>I used browser developer tools extensively, including console.log for debugging data, the Elements tab for checking DOM structure, and for myself testing all interactive features on various screen sizes to verify responsiveness.</p>
                </div>
            </article>

            <!-- Week 2: Frontend Fundamentals -->
            <article class="journal-entry collapsible">
                <div class="collapsible-header">
                    <h2>Week 2: Frontend Fundamentals</h2>
                    <div class="entry-actions">
                        <span class="toggle-icon">‚ñº</span>
                    </div>
                </div>
                <div class="collapsible-content">
                    <div class="entry-meta">October 2025</div> 
                    <h3>Mobile-First Design Approach</h3>
                    <p>I began by designing with mobile devices in mind, utilising a layout with one column that eventually expands on larger screens. This method ensured that the essential content and functionality worked flawlessly on reduced viewports.</p>
                    
                    <h3>Most Useful HTML/CSS Concept</h3>
                    <p>The CSS Flexbox concept was the most helpful one I used to create responsive layout structures and navigation. With Flexbox, creating flexible components that adjust to various screen sizes without requiring intricate computations was simple.</p>
                    
                    <h3>Most Challenging Aspect</h3>
                    <p>The hardest things for me were choosing a breakpoint and media queries. To enable smooth transitions between layouts, the ideal breakpoints for various devices needed to be tested and adjusted.</p>
                </div>
            </article>

            <!-- Week 1: Introduction to Mobile Development (OLDEST) -->
            <article class="journal-entry collapsible">
                <div class="collapsible-header">
                    <h2>Week 1: Introduction to Mobile Development</h2>
                    <div class="entry-actions">
                        <span class="toggle-icon">‚ñº</span>
                    </div>
                </div>
                <div class="collapsible-content">
                    <div class="entry-meta">September 2025</div>
                    <p>Initial setup and understanding of Progressive Web Apps. Learned about the course structure and project requirements. Explored the basics of HTML and CSS for creating responsive web layouts.</p>
                    
                    <h3>Key Learnings</h3>
                    <p>Understood the importance of Progressive Web Apps in modern web development and how they bridge the gap between web and mobile applications. Learned about the project requirements for the Learning Journal PWA.</p>
                    
                    <h3>Setup Process</h3>
                    <p>Set up the initial project structure with proper folder organization, created the basic HTML pages, and established the GitHub repository for version control.</p>
                </div>
            </article>
        </div>

        <!-- Enhanced YouTube API Section -->
        <section class="youtube-section">
            <h2>üé¨ Learning Resources</h2>
            <p>Watch this tutorial video about JavaScript APIs to enhance your understanding:</p>
            
            <div class="youtube-player-container">
                <div id="youtube-player"></div>
            </div>
            
            <div id="youtube-controls">
                <!-- Enhanced controls will be added by JavaScript -->
            </div>
            
            <div class="storage-demo">
                <h4>üíæ Storage API Demo</h4>
                <p>This PWA uses both Python JSON backend and browser local storage. Theme preferences are saved using browser storage.</p>
                <button onclick="showStorageInfo()" class="btn-primary">Show Storage Information</button>
                <div id="storage-info" style="margin-top: 1rem; padding: 1rem; background: rgba(255,255,255,0.1); border-radius: 8px;"></div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <p>&copy; 2025 Chandandeep Singh. All rights reserved.</p>
    </footer>

    <!-- ALL THE JS FILES - IN CORRECT ORDER -->
    <script src="js/storage.js"></script>
    <script src="js/browser.js"></script>
    <script src="js/thirdparty.js"></script>
    <script src="js/script.js"></script>

</body>
</html>